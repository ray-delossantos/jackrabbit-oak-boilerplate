# Apache Felix OSGi Framework Configuration - Publish Instance
# Extends base config.properties with publish-specific settings

# Include base configuration
include=config.properties

# Instance identification
instance.type=publish
instance.name=AEM Oak Publish

# HTTP Service
org.osgi.service.http.port=8080

# Publish-specific settings
oak.instance.mode=publish
oak.readOnly=false

# Replication (Publish receives from Author)
replication.enabled=false
replication.receiver.enabled=true

# Workflow disabled on publish
workflow.enabled=false

# Asset processing disabled (done on author)
dam.processing.enabled=false

# Caching enabled
cache.enabled=true
cache.max.age=3600
cache.static.max.age=86400

# Redis shared cache
cache.redis.enabled=true
cache.redis.host=redis
cache.redis.port=6379
cache.redis.ttl=300
cache.redis.pool.size=10
cache.redis.connection.timeout=2000

# Search indexing (read-only)
search.indexing.async=false

# Session timeout (shorter for anonymous users)
session.timeout=300

# Memory settings (publish instances are typically smaller)
oak.cache.size=128

# Response caching
dispatcher.caching.enabled=true

# Logging
logback.configurationFile=${felix.home}/conf/logback-publish.xml
